{% extends 'blog/base.html' %}
{% load static %}
{% block title %}Home - My Blog{% endblock %}

{% block content %}
    <h1>Latest Posts</h1>
    {% for post in posts %}
        <article>
            {% if post.image %}
                <img src="{{ post.image.url }}" class="img-fluid mb-3">
            {% endif %}

            <h2>{{ post.title }}</h2>
            <p><em>{{ post.published|date:"F j, Y" }}</em></p>
            <p>{{ post.content|truncatewords:30 }}</p>
            <a class="btn btn-primary btn-sm" href="{% url 'post-detail' post.id %}">Read more</a>
        </article>
        <hr>
    {% empty %}
        <p>No posts yet!</p>
    {% endfor %}
{% endblock %}